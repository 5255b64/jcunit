<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <title>JCUnit by dakusui</title>
    <link rel="stylesheet" href="stylesheets/styles.css">
    <link rel="stylesheet" href="stylesheets/pygment_trac.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"></script>
    <script src="javascripts/respond.js"></script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <!--[if lt IE 8]>
    <link rel="stylesheet" href="stylesheets/ie.css">
    <![endif]-->
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">

  </head>
  <body>
      <div id="header">
        <nav>
          <li class="fork"><a href="https://github.com/dakusui/jcunit">View On GitHub</a></li>
          <li class="downloads"><a href="https://github.com/dakusui/jcunit/zipball/master">ZIP</a></li>
          <li class="downloads"><a href="https://github.com/dakusui/jcunit/tarball/master">TAR</a></li>
          <li class="title">DOWNLOADS</li>
        </nav>
      </div><!-- end header -->

    <div class="wrapper">

      <section>
        <div id="title">
          <h1>JCUnit</h1>
          <p>A combinatorial testing framework on top of JUnit. It makes your refactoring life lot easier.</p>
          <hr>
          <span class="credits left">Project maintained by <a href="https://github.com/dakusui">dakusui</a></span>
          <span class="credits right">Hosted on GitHub Pages &mdash; Theme by <a href="https://twitter.com/michigangraham">mattgraham</a></span>
        </div>

        <h1>
<a name="jcunit" class="anchor" href="#jcunit"><span class="octicon octicon-link"></span></a>jcunit</h1>

<p>JCUnit is a framework to perform combinatorial testing framework using 'pairwise' technique.</p>

<h1>
<a name="first-test-with-jcunit" class="anchor" href="#first-test-with-jcunit"><span class="octicon octicon-link"></span></a>First test with JCUnit</h1>

<p>Below is jcunit's most basic example 'Calc.java'. Gist is also available at <a href="https://gist.github.com/dakusui/8980728">https://gist.github.com/dakusui/8980728</a>
Just by running CalcTest.java as a usual JUnit test, JCUnit will automatically generate test cases based on '<a href="https://github.com/In" class="user-mention">@In</a>' annotations, and will store the output of Calc based on '<a href="https://github.com/Out" class="user-mention">@Out</a>' annotation at the first time. 
From then on, in other words from the second run, you will be able to verify if Calc#calc's output is unchanged just by running CalcTest as a JUnit test.</p>

<p>And the values of '<a href="https://github.com/Out" class="user-mention">@Out</a>' annotated fields are stored in '.jcunit/' under current directory you can remove it when you want to record new values of your SUT.</p>

<h2>
<a name="calcjava-example" class="anchor" href="#calcjava-example"><span class="octicon octicon-link"></span></a>Calc.java example</h2>

<h3>
<a name="calcjava-main-class-sut" class="anchor" href="#calcjava-main-class-sut"><span class="octicon octicon-link"></span></a>Calc.java (Main class, SUT)</h3>

<p>Calc is the SUT (Software under test) in this example.
The class provides a function to perform a calculation based on given two numbers and returns the result.</p>

<pre><code>package com.github.dakusui.jcunit.tutorial.session01;

public class Calc {
    public int calc(int a, int b) {
        return a + b;
    }
}
</code></pre>

<h3>
<a name="calctestjava-test" class="anchor" href="#calctestjava-test"><span class="octicon octicon-link"></span></a>CalcTest.java (Test)</h3>

<p>CalcTest is a test class for Calc class. '<a href="https://github.com/Rule" class="user-mention">@Rule</a>' and '@ClassRule' in this example is kind of boilerplate.</p>

<pre><code>package com.github.dakusui.jcunit.tutorial.session01;

import org.junit.ClassRule;
import org.junit.Rule;
import org.junit.Test;
import org.junit.runner.RunWith;

import com.github.dakusui.jcunit.core.BasicSummarizer;
import com.github.dakusui.jcunit.core.DefaultRuleSetBuilder;
import com.github.dakusui.jcunit.core.In;
import com.github.dakusui.jcunit.core.JCUnit;
import com.github.dakusui.jcunit.core.Out;
import com.github.dakusui.jcunit.core.RuleSet;
import com.github.dakusui.jcunit.core.Summarizer;

@RunWith(JCUnit.class)
public class CalcTest {
    @In
    public int a;
    @In
    public int b;
    @Out
    public int c;

    @Rule
    public RuleSet rules = new DefaultRuleSetBuilder().autoRuleSet(this).summarizer(summarizer);
    @ClassRule
    public static Summarizer summarizer = new BasicSummarizer();

    @Test
    public void test() {
        this.c = new Calc().calc(this.a, this.b);
    }
}
</code></pre>

<h3>
<a name="maven-dependency" class="anchor" href="#maven-dependency"><span class="octicon octicon-link"></span></a>Maven dependency</h3>

<p>Below is a pom.xml fragment to describe jcunit's dependency.</p>

<pre><code>    &lt;dependency&gt;
      &lt;groupId&gt;com.github.dakusui&lt;/groupId&gt;
      &lt;artifactId&gt;jcunit&lt;/artifactId&gt;
      &lt;version&gt;0.1.4&lt;/version&gt;
    &lt;/dependency&gt;
</code></pre>

<h2>
<a name="tip-1-customizing-domains-of-in-fields" class="anchor" href="#tip-1-customizing-domains-of-in-fields"><span class="octicon octicon-link"></span></a>Tip 1: Customizing domains of <a href="https://github.com/In" class="user-mention">@In</a> fields</h2>

<p>JCUnit creates combinations based on types. For example, if a memeber is annotated with '<a href="https://github.com/In" class="user-mention">@In</a>' and its type is int, jcunit will pick up values {0, -1, 100, -100, 2147483647, -2147483648, 1}.
But this set is just a default set and you can customize it by using 'domain' paramter of '<a href="https://github.com/In" class="user-mention">@In</a>' annotation and creating a static method whose name is the same as the input field name's.
The method mustn't have any parameters and its return value must be an array of the field's type.</p>

<p>Below is the example for this function.</p>

<pre><code>    @In(domain=Domain.Method)
    public int a;

    public static int[] a() {
        return new int[]{0, 1, 2};
    }

</code></pre>

<p>The values returned by the method will be picked up and assigned to the field 'a' by the framework one by one.</p>

<h2>
<a name="tip-2-doing-pairwise-tests-or-customizing-coverage" class="anchor" href="#tip-2-doing-pairwise-tests-or-customizing-coverage"><span class="octicon octicon-link"></span></a>Tip 2: Doing pairwise tests or customizing coverage.</h2>

<p>Add annotation '<a href="https://github.com/Generator" class="user-mention">@Generator</a>(PairwiseTestArrayGenerator.class)' to CalcTest.java</p>

<pre><code>@RunWith(JCUnit.class)
@Generator(PairwiseTestArrayGenerator.class)
public class CalcTest {
</code></pre>

<p>Since there are only two parameters in this test class now (members a and b only), the test will automatically be exhaustive.</p>

<p>You can also specify CartesianTestArrayGenerator, which does exhausitive combinatorial tests always and takes long (sometimes too long and not practical), or SimpleTestArrayGenerator, which is default and has less coverage than Pairwise.</p>

<h1>
<a name="copyright-and-license" class="anchor" href="#copyright-and-license"><span class="octicon octicon-link"></span></a>Copyright and license</h1>

<p>Copyright 2013 Hiroshi Ukai.</p>

<p>Licensed under the Apache License, Version 2.0 (the "License");
you may not use this work except in compliance with the License.
You may obtain a copy of the License in the LICENSE file, or at:</p>

<p><a href="http://www.apache.org/licenses/LICENSE-2.0">http://www.apache.org/licenses/LICENSE-2.0</a></p>

<p>Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.</p>
      </section>

    </div>
    <!--[if !IE]><script>fixScale(document);</script><![endif]-->
    
  </body>
</html>